# StreamDetect-FFncnn

åŸºäºè…¾è®¯ ncnn æ·±åº¦å­¦ä¹ æ¨ç†æ¡†æ¶çš„ Android å¹³å° YOLOv8 ç›®æ ‡æ£€æµ‹åº”ç”¨ï¼Œå®ç°æœ¬åœ°åŠäº‘ç«¯æ•°æ®çš„è§£ç -æ¨ç†-è·Ÿè¸ª-æ˜¾ç¤º
æ”¯æŒå¤šç§ AI æ¨¡å‹ã€æœ¬åœ°æ£€æµ‹ã€äº‘ç«¯æ£€æµ‹ã€ç›®æ ‡è·Ÿè¸ªã€å®ä¾‹åˆ†å‰²ç­‰åŠŸèƒ½ã€‚

## ğŸ“‹ ç›®å½•

- [é¡¹ç›®ç®€ä»‹](#é¡¹ç›®ç®€ä»‹)
- [åŠŸèƒ½ç‰¹æ€§](#åŠŸèƒ½ç‰¹æ€§)
- [ç¯å¢ƒæ­å»º](#ç¯å¢ƒæ­å»º)
- [å·¥ç¨‹ç»“æ„](#å·¥ç¨‹ç»“æ„)
- [æ ¸å¿ƒä¾èµ–åº“](#æ ¸å¿ƒä¾èµ–åº“)
- [æ¨¡å‹è¯´æ˜](#æ¨¡å‹è¯´æ˜)
- [å¿«é€Ÿå¼€å§‹](#å¿«é€Ÿå¼€å§‹)
- [åŠŸèƒ½ä½¿ç”¨æŒ‡å—](#åŠŸèƒ½ä½¿ç”¨æŒ‡å—)
- [æŠ€æœ¯æ¶æ„](#æŠ€æœ¯æ¶æ„)
- [æ€§èƒ½ç›‘æ§](#æ€§èƒ½ç›‘æ§)
- [é¡¹ç›®æˆªå›¾](#é¡¹ç›®æˆªå›¾)

## ğŸ¯ é¡¹ç›®ç®€ä»‹

æœ¬é¡¹ç›®æ˜¯ä¸€ä¸ªåŸºäº **ncnn** æ¡†æ¶å¼€å‘çš„ Android å¹³å° AI è§†è§‰æ£€æµ‹åº”ç”¨ï¼Œé›†æˆäº†å¤šç§æ·±åº¦å­¦ä¹ æ¨¡å‹ï¼Œæ”¯æŒç›®æ ‡æ£€æµ‹ã€å®ä¾‹åˆ†å‰²ã€å§¿æ€ä¼°è®¡ã€äººè„¸æ£€æµ‹ç­‰å¤šç§è®¡ç®—æœºè§†è§‰ä»»åŠ¡ã€‚é¡¹ç›®é‡‡ç”¨ **JNI** å®ç° Java ä¸ C++ çš„äº¤äº’ï¼Œé€šè¿‡ **ncnn** è¿›è¡Œé«˜æ•ˆçš„ç¥ç»ç½‘ç»œæ¨ç†ï¼Œæ”¯æŒ **CPU** å’Œ **GPUï¼ˆVulkanï¼‰** ä¸¤ç§æ¨ç†æ¨¡å¼ã€‚

> **ğŸ‰ ä»£ç ç»“æ„ä¼˜åŒ–è¯´æ˜**ï¼šJavaå±‚ä»£ç å·²è¿›è¡Œæ·±åº¦ç²¾ç®€ä¼˜åŒ–ï¼Œå°†åŸæ¥çš„10ä¸ªæ–‡ä»¶6ä¸ªå­æ–‡ä»¶å¤¹ç²¾ç®€ä¸º6ä¸ªæ–‡ä»¶1ä¸ªå­æ–‡ä»¶å¤¹ï¼ˆjniï¼‰ï¼Œé€šè¿‡åˆå¹¶ç›¸å…³ç±»ç®€åŒ–ç›®å½•å±‚çº§ï¼Œå¤§å¹…æé«˜ä»£ç å¯ç»´æŠ¤æ€§ã€‚JniBridgeä¿ç•™åœ¨jniæ–‡ä»¶å¤¹ä¸­ä»¥åŒ¹é…C++å±‚çš„JNIå‡½æ•°ç­¾åï¼ŒåŠŸèƒ½ä¿æŒå®Œå…¨ä¸€è‡´ã€‚

### ä¸»è¦ç‰¹ç‚¹

- âœ… **å¤šæ¨¡å‹æ”¯æŒ**ï¼šé›†æˆ YOLOv8ã€NanoDetã€å§¿æ€ä¼°è®¡ã€äººè„¸æ£€æµ‹ç­‰ 9 ç§æ¨¡å‹
- âœ… **åŒæ¨¡å¼æ¨ç†**ï¼šæ”¯æŒ CPU å’Œ GPUï¼ˆVulkanï¼‰æ¨ç†
- âœ… **å®æ—¶æ£€æµ‹**ï¼šç›¸æœºå®æ—¶é¢„è§ˆæ£€æµ‹ã€å›¾ç‰‡æ£€æµ‹ã€è§†é¢‘æ–‡ä»¶æ£€æµ‹
- âœ… **äº‘ç«¯æ¥å…¥**ï¼šæ”¯æŒ RTSP/HTTP/HTTPS ç½‘ç»œè§†é¢‘æµæ£€æµ‹
- âœ… **ç›®æ ‡è·Ÿè¸ª**ï¼šåŸºäº BYTETracker çš„å¤šç›®æ ‡è·Ÿè¸ªç®—æ³•
- âœ… **å®ä¾‹åˆ†å‰²**ï¼šYOLOv8-Seg è¯­ä¹‰åˆ†å‰²æ”¯æŒ
- âœ… **æ€§èƒ½ç›‘æ§**ï¼šå®æ—¶ FPSã€æ¨ç†è€—æ—¶ã€CPU ä½¿ç”¨ç‡ç›‘æ§
- âœ… **æ—¥å¿—è¾“å‡º**ï¼šè¯¦ç»†çš„æ£€æµ‹æ—¥å¿—å’Œè°ƒè¯•ä¿¡æ¯

---

## âœ¨ åŠŸèƒ½ç‰¹æ€§

### 1. æ£€æµ‹åŠŸèƒ½
- **ç›®æ ‡æ£€æµ‹**ï¼šYOLOv8n/sã€NanoDetã€High_Speed æ¨¡å‹
- **å®ä¾‹åˆ†å‰²**ï¼šYOLOv8s-seg è¯­ä¹‰åˆ†å‰²
- **å§¿æ€ä¼°è®¡**ï¼šSimplePose äººä½“å…³é”®ç‚¹æ£€æµ‹
- **äººè„¸æ£€æµ‹**ï¼šDbFaceã€YoloFace-500kã€FacelandMark
- **ç»„åˆæ£€æµ‹**ï¼šPoseFace ç»„åˆæ¨¡å‹ï¼ˆäººä½“+å§¿æ€+äººè„¸ï¼‰

### 2. è·Ÿè¸ªåŠŸèƒ½
- **å¤šç›®æ ‡è·Ÿè¸ª**ï¼šåŸºäº BYTETracker ç®—æ³•
- **è½¨è¿¹ç»˜åˆ¶**ï¼šå®æ—¶æ˜¾ç¤ºç›®æ ‡è¿åŠ¨è½¨è¿¹
- **ID ç®¡ç†**ï¼šç¨³å®šçš„ç›®æ ‡ ID åˆ†é…å’Œè·Ÿè¸ª

### 3. èµ„æºç›‘æ§
- **FPS ç›‘æ§**ï¼šå®æ—¶å¸§ç‡ç»Ÿè®¡
- **æ¨ç†è€—æ—¶**ï¼šå•æ¬¡æ¨ç†æ—¶é—´ç»Ÿè®¡
- **æ€»è€—æ—¶**ï¼šåŒ…å«é¢„å¤„ç†å’Œåå¤„ç†çš„æ€»æ—¶é—´
- **CPU ä½¿ç”¨ç‡**ï¼šè¿›ç¨‹ CPU å ç”¨ç›‘æ§

### 4. æ—¥å¿—è¾“å‡º
- **æ£€æµ‹ç»“æœæ—¥å¿—**ï¼šç›®æ ‡ç±»åˆ«ã€æ•°é‡ã€ç½®ä¿¡åº¦
- **å‚æ•°é…ç½®æ—¥å¿—**ï¼šæ¨¡å‹ã€è¾“å…¥å°ºå¯¸ã€è®¾å¤‡ç±»å‹
- **é”™è¯¯ä¿¡æ¯æ—¥å¿—**ï¼šå¼‚å¸¸æ•è·å’Œé”™è¯¯æç¤º

### 5. æœ¬åœ°æ£€æµ‹
- **ç›¸æœºå®æ—¶æ£€æµ‹**ï¼šAndroid Camera2 API
- **å›¾ç‰‡æ£€æµ‹**ï¼šä»ç›¸å†Œé€‰æ‹©å›¾ç‰‡è¿›è¡Œæ£€æµ‹
- **è§†é¢‘æ£€æµ‹**ï¼šFFmpeg è§£ç è§†é¢‘æ–‡ä»¶æ£€æµ‹

### 6. äº‘ç«¯æ£€æµ‹
- **ç½‘ç»œæµæ¥å…¥**ï¼šæ”¯æŒ RTSP/HTTP/HTTPS åè®®
- **å®æ—¶é¢„è§ˆ**ï¼šç½‘ç»œè§†é¢‘æµå®æ—¶é¢„è§ˆ
- **æµå¼æ£€æµ‹**ï¼šå¯¹ç½‘ç»œæµè¿›è¡Œå®æ—¶ AI æ£€æµ‹

---

## ğŸ› ï¸ ç¯å¢ƒæ­å»º

### ç³»ç»Ÿè¦æ±‚

- **æ“ä½œç³»ç»Ÿ**ï¼šWindows 10/11 æˆ– macOS æˆ– Linux
- **å¼€å‘ç¯å¢ƒ**ï¼šAndroid Studioï¼ˆæ¨èæœ€æ–°ç¨³å®šç‰ˆï¼‰

### å¿…éœ€ç¯å¢ƒ

#### 1. JDK é…ç½®
- **ç‰ˆæœ¬**ï¼šJDK 17.0
- **é…ç½®**ï¼šè®¾ç½® `JAVA_HOME` ç¯å¢ƒå˜é‡æŒ‡å‘ JDK 17 å®‰è£…ç›®å½•

```bash
# éªŒè¯ JDK ç‰ˆæœ¬
java -version
# åº”è¯¥æ˜¾ç¤ºï¼šopenjdk version "17.x.x"
```

#### 2. Android SDK é…ç½®
- **Android SDK Platform**ï¼šAndroid 12 (API Level 31)
- **Build Tools**ï¼šå»ºè®®å®‰è£… 33.0.1 æˆ–æ›´é«˜ç‰ˆæœ¬
- **NDK ç‰ˆæœ¬**ï¼š21.xï¼ˆå…·ä½“ç‰ˆæœ¬ï¼š25.1.8937393ï¼‰

**SDK å®‰è£…æ­¥éª¤**ï¼š
1. æ‰“å¼€ Android Studio
2. è¿›å…¥ `Tools > SDK Manager`
3. åœ¨ `SDK Platforms` æ ‡ç­¾é¡µå®‰è£…ï¼š
   - âœ… Android 12.0 (API Level 31)
   - âœ… Android 13.0 (API Level 33)ï¼ˆæ¨èï¼‰
   - âœ… Android 14.0 (API Level 34)ï¼ˆæ¨èï¼‰
4. åœ¨ `SDK Tools` æ ‡ç­¾é¡µå®‰è£…ï¼š
   - âœ… Android SDK Build-Tools 33.0.1ï¼ˆæˆ–æ›´é«˜ç‰ˆæœ¬ï¼‰
   - âœ… CMake 3.10ï¼ˆæˆ–æ›´é«˜ç‰ˆæœ¬ï¼Œé¡¹ç›®è¦æ±‚ 3.22.1ï¼‰
   - âœ… NDK (Side by side) 21.xï¼ˆé¡¹ç›®ä½¿ç”¨ 25.1.8937393ï¼‰
   - âœ… Android SDK Platform-Tools
   - âœ… Android SDK Command-line Tools

#### 3. CMake é…ç½®
- **æœ€ä½ç‰ˆæœ¬**ï¼šCMake 3.10
- **é¡¹ç›®è¦æ±‚**ï¼šCMake 3.22.1ï¼ˆåœ¨ `app/build.gradle` ä¸­æŒ‡å®šï¼‰

**å®‰è£…ä½ç½®**ï¼šAndroid SDK ç›®å½•ä¸‹çš„ `cmake` æ–‡ä»¶å¤¹
```
SDK_ROOT/cmake/3.22.1/
```

#### 4. Gradle é…ç½®
- **Gradle æ’ä»¶ç‰ˆæœ¬**ï¼š7.2.0 æˆ– 8.1.0ï¼ˆé¡¹ç›®ä½¿ç”¨ 8.1.0ï¼‰
- **Gradle ç‰ˆæœ¬**ï¼šä¸æ’ä»¶ç‰ˆæœ¬åŒ¹é…

**é…ç½®æ£€æŸ¥**ï¼š
- é¡¹ç›®æ ¹ç›®å½• `build.gradle` ä¸­æŸ¥çœ‹æ’ä»¶ç‰ˆæœ¬
- `gradle/wrapper/gradle-wrapper.properties` ä¸­æŸ¥çœ‹ Gradle ç‰ˆæœ¬

#### 5. NDK é…ç½®
- **ç‰ˆæœ¬**ï¼š21.xï¼ˆé¡¹ç›®å®é™…ä½¿ç”¨ 25.1.8937393ï¼‰
- **é…ç½®ä½ç½®**ï¼š`app/build.gradle` ä¸­æŒ‡å®š
```gradle
ndkVersion "25.1.8937393"
```

### ç¯å¢ƒå˜é‡é…ç½®

#### Windows
```batch
# è®¾ç½® JDK è·¯å¾„
set JAVA_HOME=C:\Program Files\Java\jdk-17

# è®¾ç½® Android SDK è·¯å¾„
set ANDROID_HOME=C:\Users\YourName\AppData\Local\Android\Sdk

# æ·»åŠ åˆ° PATH
set PATH=%JAVA_HOME%\bin;%ANDROID_HOME%\platform-tools;%PATH%
```

#### macOS/Linux
```bash
# è®¾ç½® JDK è·¯å¾„
export JAVA_HOME=/Library/Java/JavaVirtualMachines/jdk-17.jdk/Contents/Home

# è®¾ç½® Android SDK è·¯å¾„
export ANDROID_HOME=$HOME/Library/Android/sdk

# æ·»åŠ åˆ° PATH
export PATH=$JAVA_HOME/bin:$ANDROID_HOME/platform-tools:$PATH
```

### é¡¹ç›®é…ç½®éªŒè¯

1. **æ‰“å¼€é¡¹ç›®**
   ```bash
   # ä½¿ç”¨ Android Studio æ‰“å¼€é¡¹ç›®æ ¹ç›®å½•
   ```

2. **åŒæ­¥ Gradle**
   - Android Studio ä¼šè‡ªåŠ¨åŒæ­¥ï¼Œæˆ–æ‰‹åŠ¨ç‚¹å‡» `Sync Project with Gradle Files`

3. **æ£€æŸ¥é…ç½®**
   - ç¡®è®¤ `local.properties` ä¸­ `sdk.dir` æŒ‡å‘æ­£ç¡®çš„ Android SDK è·¯å¾„
   - ç¡®è®¤ NDK ç‰ˆæœ¬ä¸ `app/build.gradle` ä¸­é…ç½®ä¸€è‡´

---

## ğŸ“ å·¥ç¨‹ç»“æ„

```
ncnn-android-yolov8/
â”‚
â”œâ”€â”€ app/                                    # ä¸»åº”ç”¨æ¨¡å—
â”‚   â”œâ”€â”€ build.gradle                       # åº”ç”¨æ„å»ºé…ç½®
â”‚   â”œâ”€â”€ proguard-rules.pro                 # ä»£ç æ··æ·†è§„åˆ™
â”‚   â”‚
â”‚   â””â”€â”€ src/
â”‚       â””â”€â”€ main/
â”‚           â”œâ”€â”€ AndroidManifest.xml        # åº”ç”¨æ¸…å•æ–‡ä»¶
â”‚           â”‚
â”‚           â”œâ”€â”€ assets/                    # æ¨¡å‹èµ„æºæ–‡ä»¶
â”‚           â”‚   â”œâ”€â”€ YoloV8n.param/.bin     # YOLOv8n æ¨¡å‹
â”‚           â”‚   â”œâ”€â”€ YoloV8s.param/.bin     # YOLOv8s æ¨¡å‹
â”‚           â”‚   â”œâ”€â”€ Yolov8Seg.param/.bin   # YOLOv8 åˆ†å‰²æ¨¡å‹
â”‚           â”‚   â”œâ”€â”€ NanoDet.param/.bin     # NanoDet æ¨¡å‹
â”‚           â”‚   â”œâ”€â”€ High_Speed.param/.bin  # é«˜é€Ÿæ£€æµ‹æ¨¡å‹
â”‚           â”‚   â”œâ”€â”€ SimplePose.param/.bin  # å§¿æ€ä¼°è®¡æ¨¡å‹
â”‚           â”‚   â”œâ”€â”€ DbFace.param/.bin      # äººè„¸æ£€æµ‹æ¨¡å‹
â”‚           â”‚   â”œâ”€â”€ YoloFace-500k.param/.bin
â”‚           â”‚   â””â”€â”€ LandMark106.param/.bin # äººè„¸å…³é”®ç‚¹æ¨¡å‹
â”‚           â”‚
â”‚           â”œâ”€â”€ java/                      # Java æºä»£ç 
â”‚           â”‚   â””â”€â”€ NcnnTencent/
â”‚           â”‚       â”œâ”€â”€ WelcomeActivity.java          # æ¬¢è¿ç•Œé¢ï¼ˆæ¨¡å‹é€‰æ‹©ï¼‰
â”‚           â”‚       â”‚
â”‚           â”‚       â”œâ”€â”€ LocalDetect/                  # æœ¬åœ°æ£€æµ‹æ¨¡å—
â”‚           â”‚       â”‚   â”œâ”€â”€ MainLocalActivity.java    # æœ¬åœ°æ£€æµ‹ä¸»ç•Œé¢
â”‚           â”‚       â”‚   â””â”€â”€ presenter/
â”‚           â”‚       â”‚       â””â”€â”€ MainPresenter.java    # MVP æ¶æ„ Presenter
â”‚           â”‚       â”‚
â”‚           â”‚       â”œâ”€â”€ CloudDetect/                  # äº‘ç«¯æ£€æµ‹æ¨¡å—
â”‚           â”‚       â”‚   â”œâ”€â”€ MainCloudActivity.java    # äº‘ç«¯æ£€æµ‹ä¸»ç•Œé¢
â”‚           â”‚       â”‚   â”œâ”€â”€ NetworkVideoManager.java  # ç½‘ç»œæµç®¡ç†å™¨
â”‚           â”‚       â”‚   â””â”€â”€ presenter/
â”‚           â”‚       â”‚       â””â”€â”€ NetworkPresenter.java # MVP æ¶æ„ Presenter
â”‚           â”‚       â”‚
â”‚           â”‚       â””â”€â”€ common/                       # å…¬å…±æ¨¡å— (ç²¾ç®€ç»“æ„)
â”‚           â”‚           â”œâ”€â”€ InferenceConfig.java      # æ¨ç†é…ç½®ç±»
â”‚           â”‚           â”œâ”€â”€ ImageUtils.java           # å›¾ç‰‡å¤„ç†å·¥å…·
â”‚           â”‚           â”œâ”€â”€ jni/                      # JNI æ¡¥æ¥å±‚
â”‚           â”‚           â”‚   â””â”€â”€ JniBridge.java        # JNI æ¥å£å°è£…
â”‚           â”‚           â”œâ”€â”€ Models.java               # æ•°æ®æ¨¡å‹é›†åˆ
â”‚           â”‚           â”‚   â”œâ”€â”€ DetectSummary         #   - æ£€æµ‹ç»“æœæ‘˜è¦
â”‚           â”‚           â”‚   â”œâ”€â”€ CameraModel           #   - ç›¸æœºæ¨¡å‹
â”‚           â”‚           â”‚   â”œâ”€â”€ InferenceModel        #   - æ¨ç†æ¨¡å‹
â”‚           â”‚           â”‚   â””â”€â”€ NetworkModel          #   - ç½‘ç»œæµæ¨¡å‹
â”‚           â”‚           â”œâ”€â”€ Monitor.java              # ç›‘æ§å™¨é›†åˆ
â”‚           â”‚           â”‚   â”œâ”€â”€ SystemMonitor         #   - ç³»ç»Ÿç›‘æ§
â”‚           â”‚           â”‚   â””â”€â”€ InferenceMonitor      #   - æ¨ç†ç›‘æ§
â”‚           â”‚           â””â”€â”€ UiUpdater.java            # UI æ›´æ–°å·¥å…·
â”‚           â”‚
â”‚           â”œâ”€â”€ jni/                       # C++/JNI åŸç”Ÿä»£ç 
â”‚           â”‚   â”œâ”€â”€ CMakeLists.txt         # CMake æ„å»ºé…ç½®
â”‚           â”‚   â”‚
â”‚           â”‚   â”œâ”€â”€ camera_jni.cpp         # ç›¸æœº JNI æ¥å£
â”‚           â”‚   â”œâ”€â”€ ffmpeg_jni.cpp         # FFmpeg è§†é¢‘ JNI æ¥å£
â”‚           â”‚   â”œâ”€â”€ ndkcamera.cpp/.h       # Android NDK Camera å°è£…
â”‚           â”‚   â”œâ”€â”€ vision_base.cpp/.h     # è§†è§‰åŸºç¡€ç±»
â”‚           â”‚   â”œâ”€â”€ vision_infer.cpp/.h    # æ¨ç†å¼•æ“
â”‚           â”‚   â”œâ”€â”€ IYoloAlgo.h            # ç®—æ³•æ¥å£å®šä¹‰
â”‚           â”‚   â”‚
â”‚           â”‚   â”œâ”€â”€ detect/                # æ£€æµ‹ç®—æ³•
â”‚           â”‚   â”‚   â”œâ”€â”€ YoloV8.cpp/.h      # YOLOv8 å®ç°
â”‚           â”‚   â”‚   â”œâ”€â”€ NanoDet.cpp/.h     # NanoDet å®ç°
â”‚           â”‚   â”‚   â””â”€â”€ HighSpeed.cpp/.h   # é«˜é€Ÿæ£€æµ‹å®ç°
â”‚           â”‚   â”‚
â”‚           â”‚   â”œâ”€â”€ seg/                   # åˆ†å‰²ç®—æ³•
â”‚           â”‚   â”‚   â””â”€â”€ Yolov8Seg.cpp/.h   # YOLOv8 åˆ†å‰²å®ç°
â”‚           â”‚   â”‚
â”‚           â”‚   â”œâ”€â”€ pose/                  # å§¿æ€ä¼°è®¡ç®—æ³•
â”‚           â”‚   â”‚   â”œâ”€â”€ SimplePose.cpp/.h  # å§¿æ€ä¼°è®¡å®ç°
â”‚           â”‚   â”‚   â”œâ”€â”€ DbFace.cpp/.h      # äººè„¸æ£€æµ‹
â”‚           â”‚   â”‚   â”œâ”€â”€ FacelandMark.cpp/.h
â”‚           â”‚   â”‚   â””â”€â”€ CombinedPoseFace.cpp/.h
â”‚           â”‚   â”‚
â”‚           â”‚   â”œâ”€â”€ track/                 # è·Ÿè¸ªç®—æ³•
â”‚           â”‚   â”‚   â”œâ”€â”€ BYTETracker.cpp/.h # BYTE è·Ÿè¸ªå™¨
â”‚           â”‚   â”‚   â”œâ”€â”€ STrack.cpp/.h      # è·Ÿè¸ªç›®æ ‡
â”‚           â”‚   â”‚   â”œâ”€â”€ kalmanFilter.cpp/.h
â”‚           â”‚   â”‚   â””â”€â”€ utils.cpp          # è·Ÿè¸ªå·¥å…·å‡½æ•°
â”‚           â”‚   â”‚
â”‚           â”‚   â”œâ”€â”€ ncnn-20231027-android-vulkan/  # ncnn æ¡†æ¶åº“
â”‚           â”‚   â”‚   â”œâ”€â”€ arm64-v8a/         # ARM64 æ¶æ„åº“
â”‚           â”‚   â”‚   â”œâ”€â”€ armeabi-v7a/       # ARMv7 æ¶æ„åº“
â”‚           â”‚   â”‚   â”œâ”€â”€ x86/               # x86 æ¶æ„åº“
â”‚           â”‚   â”‚   â””â”€â”€ x86_64/            # x86_64 æ¶æ„åº“
â”‚           â”‚   â”‚
â”‚           â”‚   â”œâ”€â”€ OpenCV-android-sdk/    # OpenCV åº“
â”‚           â”‚   â”œâ”€â”€ ffmpeg-5.9/            # FFmpeg åº“
â”‚           â”‚   â”œâ”€â”€ x264/                  # x264 ç¼–ç åº“
â”‚           â”‚   â””â”€â”€ eigen-3.3.9/           # Eigen æ•°å­¦åº“
â”‚           â”‚
â”‚           â””â”€â”€ res/                       # èµ„æºæ–‡ä»¶
â”‚               â”œâ”€â”€ layout/                # å¸ƒå±€æ–‡ä»¶
â”‚               â”‚   â”œâ”€â”€ activity_welcome.xml
â”‚               â”‚   â”œâ”€â”€ main.xml
â”‚               â”‚   â””â”€â”€ activity_network_stream.xml
â”‚               â”œâ”€â”€ values/
â”‚               â”‚   â”œâ”€â”€ strings.xml        # å­—ç¬¦ä¸²èµ„æºï¼ˆæ¨¡å‹åˆ—è¡¨ç­‰ï¼‰
â”‚               â”‚   â””â”€â”€ colors.xml
â”‚               â””â”€â”€ drawable/              # å›¾ç‰‡èµ„æº
â”‚
â”œâ”€â”€ Screenshots/                           # é¡¹ç›®æˆªå›¾
â”‚   â”œâ”€â”€ welcome_screen.jpg                 # æ¬¢è¿ç•Œé¢
â”‚   â”œâ”€â”€ local_detect_main_v1.jpg          # æœ¬åœ°æ£€æµ‹ç•Œé¢ v1
â”‚   â”œâ”€â”€ local_detect_main_v2.jpg          # æœ¬åœ°æ£€æµ‹ç•Œé¢ v2
â”‚   â”œâ”€â”€ local_detect_flow.gif             # æœ¬åœ°æ£€æµ‹æµç¨‹åŠ¨ç”»
â”‚   â”œâ”€â”€ cloud_detect_main.jpg             # äº‘ç«¯æ£€æµ‹ç•Œé¢
â”‚   â””â”€â”€ cloud_network_stream.gif          # äº‘ç«¯æµæ£€æµ‹åŠ¨ç”»
â”‚
â”œâ”€â”€ build.gradle                           # é¡¹ç›®çº§æ„å»ºé…ç½®
â”œâ”€â”€ settings.gradle                        # é¡¹ç›®è®¾ç½®
â”œâ”€â”€ gradle.properties                      # Gradle å±æ€§é…ç½®
â””â”€â”€ README.md                              # é¡¹ç›®è¯´æ˜æ–‡æ¡£ï¼ˆæœ¬æ–‡ä»¶ï¼‰
```

### æ ¸å¿ƒç›®å½•è¯´æ˜

#### `app/src/main/java/NcnnTencent/`
- **WelcomeActivity**ï¼šåº”ç”¨å…¥å£ï¼Œæ¨¡å‹é€‰æ‹©å’Œå‚æ•°é…ç½®ç•Œé¢
- **LocalDetect**ï¼šæœ¬åœ°æ£€æµ‹æ¨¡å—ï¼Œæ”¯æŒç›¸æœºã€å›¾ç‰‡ã€è§†é¢‘
- **CloudDetect**ï¼šäº‘ç«¯æ£€æµ‹æ¨¡å—ï¼Œæ”¯æŒç½‘ç»œè§†é¢‘æµ
- **common**ï¼šå…¬å…±æ¨¡å—ï¼ˆç²¾ç®€ç»“æ„ï¼‰ï¼ŒåŒ…æ‹¬ï¼š
  - `InferenceConfig.java`ï¼šæ¨ç†é…ç½®ç®¡ç†
  - `ImageUtils.java`ï¼šå›¾ç‰‡å¤„ç†å·¥å…·
  - `jni/JniBridge.java`ï¼šJNI æ¡¥æ¥å±‚ï¼ˆä¿ç•™åœ¨jniæ–‡ä»¶å¤¹ä»¥åŒ¹é…C++å±‚ï¼‰
  - `Models.java`ï¼šæ•´åˆæ‰€æœ‰æ•°æ®æ¨¡å‹å’Œä¸šåŠ¡æ¨¡å‹
  - `Monitor.java`ï¼šæ•´åˆç³»ç»Ÿç›‘æ§å’Œæ¨ç†ç›‘æ§
  - `UiUpdater.java`ï¼šUI æ›´æ–°ä¼˜åŒ–å·¥å…·

#### `app/src/main/jni/`
- **detect/**ï¼šç›®æ ‡æ£€æµ‹ç®—æ³•å®ç°ï¼ˆYOLOv8ã€NanoDet ç­‰ï¼‰
- **seg/**ï¼šå®ä¾‹åˆ†å‰²ç®—æ³•å®ç°
- **pose/**ï¼šå§¿æ€ä¼°è®¡å’Œäººè„¸æ£€æµ‹ç®—æ³•
- **track/**ï¼šå¤šç›®æ ‡è·Ÿè¸ªç®—æ³•ï¼ˆBYTETrackerï¼‰
- **ncnn-20231027-android-vulkan/**ï¼šncnn æ¨ç†æ¡†æ¶åº“

#### `app/src/main/assets/`
- å­˜æ”¾æ‰€æœ‰ AI æ¨¡å‹çš„å‚æ•°æ–‡ä»¶ï¼ˆ`.param`ï¼‰å’Œæƒé‡æ–‡ä»¶ï¼ˆ`.bin`ï¼‰

---

## ğŸ“š æ ¸å¿ƒä¾èµ–åº“

### 1. ncnn æ¡†æ¶

**ncnn** æ˜¯è…¾è®¯å¼€æºçš„ä¸ºæ‰‹æœºç«¯æè‡´ä¼˜åŒ–çš„é«˜æ€§èƒ½ç¥ç»ç½‘ç»œå‰å‘è®¡ç®—æ¡†æ¶ã€‚

- **ç‰ˆæœ¬**ï¼šncnn-20231027-android-vulkan
- **å®˜æ–¹ä»“åº“**ï¼šhttps://github.com/Tencent/ncnn
- **è®¸å¯è¯**ï¼šBSD 3-Clause License

#### ncnn ç‰¹æ€§

- âœ… **é«˜æ€§èƒ½**ï¼šé’ˆå¯¹ ARM CPU æ·±åº¦ä¼˜åŒ–
- âœ… **Vulkan æ”¯æŒ**ï¼šGPU åŠ é€Ÿæ¨ç†
- âœ… **è½»é‡çº§**ï¼šæ¡†æ¶ä½“ç§¯å°ï¼Œä¾èµ–å°‘
- âœ… **è·¨å¹³å°**ï¼šæ”¯æŒ Androidã€iOSã€Linuxã€Windows

#### ncnn åœ¨æœ¬é¡¹ç›®ä¸­çš„ä½¿ç”¨

```cpp
// æ¨¡å‹åŠ è½½ç¤ºä¾‹ï¼ˆYoloV8.cppï¼‰
int YoloV8::load(AAssetManager* mgr, int modelid, int inputsize, bool use_gpu)
{
    ncnn::set_cpu_powersave(0);
    ncnn::set_omp_num_threads(ncnn::get_big_cpu_count());
    yolo.opt = ncnn::Option();
    
#if NCNN_VULKAN
    yolo.opt.use_vulkan_compute = use_gpu;  // å¯ç”¨ Vulkan GPU æ¨ç†
#endif
    
    yolo.opt.lightmode = true;  // è½»é‡æ¨¡å¼ï¼Œå‡å°‘å†…å­˜ä½¿ç”¨
    
    // åŠ è½½æ¨¡å‹æ–‡ä»¶
    yolo.load_param(mgr, parampath);
    yolo.load_model(mgr, modelpath);
    
    return 0;
}
```

#### CMake é›†æˆ

```cmake
# CMakeLists.txt ä¸­é…ç½® ncnn
set(ncnn_DIR ${CMAKE_SOURCE_DIR}/ncnn-20231027-android-vulkan/${ANDROID_ABI}/lib/cmake/ncnn)
find_package(ncnn REQUIRED)

target_link_libraries(yolov8ncnn
    ncnn
    ${OpenCV_LIBS}
    # ... å…¶ä»–åº“
)
```

### 2. OpenCV

**OpenCV**ï¼ˆOpen Source Computer Vision Libraryï¼‰æ˜¯ä¸€ä¸ªå¼€æºçš„è®¡ç®—æœºè§†è§‰åº“ã€‚

- **ç”¨é€”**ï¼šå›¾åƒå¤„ç†ã€çŸ©é˜µè¿ç®—ã€é¢œè‰²ç©ºé—´è½¬æ¢
- **åœ¨æœ¬é¡¹ç›®ä¸­çš„ä½¿ç”¨**ï¼š
  - å›¾åƒé¢„å¤„ç†å’Œåå¤„ç†
  - ç›®æ ‡æ¡†ç»˜åˆ¶
  - å›¾åƒç¼©æ”¾å’Œè£å‰ª

### 3. FFmpeg

**FFmpeg** æ˜¯ä¸€ä¸ªå¤šåª’ä½“å¤„ç†åº“ã€‚

- **ç‰ˆæœ¬**ï¼šFFmpeg 5.9
- **ç”¨é€”**ï¼šè§†é¢‘æ–‡ä»¶è§£ç ã€ç½‘ç»œæµè§£ç 
- **æ”¯æŒæ ¼å¼**ï¼šMP4ã€AVIã€RTSPã€HTTP ç­‰

### 4. Eigen

**Eigen** æ˜¯ä¸€ä¸ª C++ æ¨¡æ¿åº“ï¼Œç”¨äºçº¿æ€§ä»£æ•°ã€çŸ©é˜µå’Œå‘é‡è¿ç®—ã€‚

- **ç‰ˆæœ¬**ï¼šEigen 3.3.9
- **ç”¨é€”**ï¼šæ•°å­¦è¿ç®—ã€çŸ©é˜µè®¡ç®—

### 5. x264

**x264** æ˜¯ä¸€ä¸ªå¼€æºçš„ H.264 è§†é¢‘ç¼–ç å™¨ã€‚

- **ç”¨é€”**ï¼šè§†é¢‘ç¼–ç ï¼ˆæœ¬é¡¹ç›®ä¸»è¦ä½¿ç”¨è§£ç åŠŸèƒ½ï¼‰

### 6. Android NDK Camera

**Android Camera2 NDK API** ç”¨äºç›´æ¥è®¿é—®ç›¸æœºç¡¬ä»¶ã€‚

- **æ–‡ä»¶**ï¼š`ndkcamera.cpp/.h`
- **ç”¨é€”**ï¼šé«˜æ•ˆç›¸æœºé¢„è§ˆå’Œå›¾åƒé‡‡é›†

---

## ğŸ¤– æ¨¡å‹è¯´æ˜

é¡¹ç›®æ”¯æŒä»¥ä¸‹ 9 ç§ AI æ¨¡å‹ï¼š

| æ¨¡å‹åç§° | ç±»å‹ | è¾“å…¥å°ºå¯¸ | è¯´æ˜ |
|---------|------|---------|------|
| **high_speed** | ç›®æ ‡æ£€æµ‹ | 320Ã—320 / 640Ã—640 | é«˜é€Ÿæ£€æµ‹æ¨¡å‹ï¼Œè½»é‡çº§ |
| **YoloV8n** | ç›®æ ‡æ£€æµ‹ | 320Ã—320 / 640Ã—640 | YOLOv8 Nanoï¼Œè½»é‡çº§ |
| **YoloV8s** | ç›®æ ‡æ£€æµ‹ | 320Ã—320 / 640Ã—640 | YOLOv8 Smallï¼Œæ ‡å‡†ç‰ˆ |
| **YoloV8s-seg** | å®ä¾‹åˆ†å‰² | 320Ã—320 / 640Ã—640 | YOLOv8 åˆ†å‰²æ¨¡å‹ |
| **NanoDet** | ç›®æ ‡æ£€æµ‹ | 320Ã—320 / 640Ã—640 | è½»é‡çº§ Anchor-free æ£€æµ‹ |
| **SimplePose** | å§¿æ€ä¼°è®¡ | 320Ã—320 / 640Ã—640 | äººä½“å…³é”®ç‚¹æ£€æµ‹ï¼ˆ17 ç‚¹ï¼‰ |
| **DbFace** | äººè„¸æ£€æµ‹ | å›ºå®šå°ºå¯¸ | äººè„¸æ£€æµ‹æ¨¡å‹ |
| **FacelandMark** | äººè„¸å…³é”®ç‚¹ | å›ºå®šå°ºå¯¸ | 106 ç‚¹äººè„¸å…³é”®ç‚¹ |
| **PoseFace** | ç»„åˆæ¨¡å‹ | 320Ã—320 / 640Ã—640 | äººä½“+å§¿æ€+äººè„¸ç»„åˆæ£€æµ‹ |

### æ¨¡å‹æ–‡ä»¶ä½ç½®

æ‰€æœ‰æ¨¡å‹æ–‡ä»¶å­˜æ”¾åœ¨ `app/src/main/assets/` ç›®å½•ä¸‹ï¼š

```
assets/
â”œâ”€â”€ High_Speed.param        # æ¨¡å‹ç»“æ„å®šä¹‰
â”œâ”€â”€ High_Speed.bin          # æ¨¡å‹æƒé‡
â”œâ”€â”€ YoloV8n.param
â”œâ”€â”€ YoloV8n.bin
â”œâ”€â”€ YoloV8s.param
â”œâ”€â”€ YoloV8s.bin
â”œâ”€â”€ Yolov8Seg.param
â”œâ”€â”€ Yolov8Seg.bin
â”œâ”€â”€ NanoDet.param
â”œâ”€â”€ NanoDet.bin
â”œâ”€â”€ SimplePose.param
â”œâ”€â”€ SimplePose.bin
â”œâ”€â”€ DbFace.param
â”œâ”€â”€ DbFace.bin
â”œâ”€â”€ PersonDetector.param    # PoseFace ç»„åˆæ¨¡å‹ä½¿ç”¨
â”œâ”€â”€ PersonDetector.bin
â”œâ”€â”€ YoloFace-500k.param
â”œâ”€â”€ YoloFace-500k.bin
â”œâ”€â”€ LandMark106.param
â””â”€â”€ LandMark106.bin
```

### æ¨¡å‹åŠ è½½æµç¨‹

```cpp
// 1. åˆå§‹åŒ– ncnn Net
ncnn::Net yolo;

// 2. é…ç½®æ¨ç†é€‰é¡¹
yolo.opt.use_vulkan_compute = use_gpu;  // GPU/CPU é€‰æ‹©
yolo.opt.lightmode = true;              // è½»é‡æ¨¡å¼

// 3. ä» assets åŠ è½½æ¨¡å‹
yolo.load_param(mgr, "YoloV8n.param");  // åŠ è½½ç»“æ„
yolo.load_model(mgr, "YoloV8n.bin");    // åŠ è½½æƒé‡

// 4. åˆ›å»ºæå–å™¨å¹¶æ¨ç†
ncnn::Extractor ex = yolo.create_extractor();
ex.input("images", input_mat);
ex.extract("output", output_mat);
```

---

## ğŸš€ å¿«é€Ÿå¼€å§‹

### 1. å…‹éš†é¡¹ç›®

```bash
git clone <repository-url>
cd ncnn-android-yolov8
```

### 2. é…ç½® Android SDK è·¯å¾„

ç¼–è¾‘ `local.properties` æ–‡ä»¶ï¼ˆå¦‚æœä¸å­˜åœ¨åˆ™åˆ›å»ºï¼‰ï¼š

```properties
sdk.dir=C\:\\Users\\YourName\\AppData\\Local\\Android\\Sdk
```

### 3. åŒæ­¥é¡¹ç›®

1. ä½¿ç”¨ Android Studio æ‰“å¼€é¡¹ç›®
2. ç­‰å¾… Gradle åŒæ­¥å®Œæˆ
3. ç¡®è®¤æ‰€æœ‰ä¾èµ–ä¸‹è½½æˆåŠŸ

### 4. è¿æ¥è®¾å¤‡

- **çœŸæœºè°ƒè¯•**ï¼šå¯ç”¨ USB è°ƒè¯•ï¼Œè¿æ¥æ‰‹æœº
- **æ¨¡æ‹Ÿå™¨**ï¼šåˆ›å»º ARM64 æ¶æ„çš„æ¨¡æ‹Ÿå™¨ï¼ˆæ¨è API Level 31+ï¼‰

### 5. ç¼–è¯‘è¿è¡Œ

1. é€‰æ‹©è¿è¡Œé…ç½®ï¼š`app`
2. é€‰æ‹©ç›®æ ‡è®¾å¤‡
3. ç‚¹å‡» `Run` æŒ‰é’®æˆ–æŒ‰ `Shift+F10`

### 6. é¦–æ¬¡ä½¿ç”¨

åº”ç”¨å¯åŠ¨åä¼šè¿›å…¥æ¬¢è¿ç•Œé¢ï¼š
1. é€‰æ‹©æ¨¡å‹ï¼ˆé»˜è®¤ï¼šhigh_speedï¼‰
2. é€‰æ‹©è¾“å…¥å°ºå¯¸ï¼ˆé»˜è®¤ï¼š320Ã—320ï¼‰
3. é€‰æ‹©æ¨ç†è®¾å¤‡ï¼ˆCPU/GPUï¼‰
4. ç‚¹å‡»"è¿›å…¥æ£€æµ‹"å¼€å§‹æœ¬åœ°æ£€æµ‹ï¼Œæˆ–ç‚¹å‡»"äº‘ç«¯è®¾å¤‡æ¥å…¥"è¿›è¡Œç½‘ç»œæµæ£€æµ‹

---

## ğŸ“– åŠŸèƒ½ä½¿ç”¨æŒ‡å—

### æœ¬åœ°æ£€æµ‹åŠŸèƒ½

#### 1. ç›¸æœºå®æ—¶æ£€æµ‹

1. åœ¨æ¬¢è¿ç•Œé¢é…ç½®æ¨¡å‹å’Œå‚æ•°
2. è¿›å…¥æœ¬åœ°æ£€æµ‹ç•Œé¢
3. ç‚¹å‡»ç›¸æœºå›¾æ ‡æŒ‰é’®ï¼Œæˆäºˆç›¸æœºæƒé™
4. å®æ—¶é¢„è§ˆç”»é¢ï¼Œè‡ªåŠ¨è¿›è¡Œç›®æ ‡æ£€æµ‹
5. å¯è°ƒèŠ‚ç½®ä¿¡åº¦é˜ˆå€¼å’Œ NMS é˜ˆå€¼
6. å¯å¯ç”¨/ç¦ç”¨ç›®æ ‡è·Ÿè¸ªå’Œè½¨è¿¹ç»˜åˆ¶

**æ“ä½œè¯´æ˜**ï¼š
- **ç½®ä¿¡åº¦é˜ˆå€¼**ï¼šæ»‘åŠ¨æ¡è°ƒèŠ‚ï¼ŒèŒƒå›´ 0.00-1.00
- **NMS é˜ˆå€¼**ï¼šæ»‘åŠ¨æ¡è°ƒèŠ‚ï¼ŒèŒƒå›´ 0.00-1.00
- **è·Ÿè¸ªå¼€å…³**ï¼šå¯ç”¨å¤šç›®æ ‡è·Ÿè¸ª
- **è½¨è¿¹å¼€å…³**ï¼šæ˜¾ç¤ºç›®æ ‡è¿åŠ¨è½¨è¿¹

#### 2. å›¾ç‰‡æ£€æµ‹

1. ç‚¹å‡»å›¾ç‰‡å›¾æ ‡æŒ‰é’®
2. ä»ç›¸å†Œé€‰æ‹©å›¾ç‰‡
3. è‡ªåŠ¨è¿›è¡Œæ£€æµ‹å¹¶æ˜¾ç¤ºç»“æœ
4. å¯æŸ¥çœ‹æ£€æµ‹åˆ°çš„ç›®æ ‡ç±»åˆ«å’Œç½®ä¿¡åº¦

#### 3. è§†é¢‘æ£€æµ‹

1. ç‚¹å‡»è§†é¢‘å›¾æ ‡æŒ‰é’®
2. é€‰æ‹©è§†é¢‘æ–‡ä»¶
3. ä½¿ç”¨ FFmpeg é€å¸§è§£ç 
4. å¯¹æ¯ä¸€å¸§è¿›è¡Œæ£€æµ‹
5. æ˜¾ç¤ºæ£€æµ‹ç»“æœ

### äº‘ç«¯æ£€æµ‹åŠŸèƒ½

#### 1. ç½‘ç»œæµæ¥å…¥

1. åœ¨æ¬¢è¿ç•Œé¢é…ç½®æ¨¡å‹å’Œå‚æ•°
2. è¿›å…¥äº‘ç«¯æ£€æµ‹ç•Œé¢
3. è¾“å…¥ç½‘ç»œæµåœ°å€ï¼ˆæ”¯æŒæ ¼å¼ï¼‰ï¼š
   - **RTSP**ï¼š`rtsp://192.168.1.100:554/stream`
   - **HTTP**ï¼š`http://192.168.1.100:8080/video`
   - **HTTPS**ï¼š`https://example.com/stream`
4. ç‚¹å‡»"è¿æ¥é¢„è§ˆ"æŒ‰é’®
5. ç­‰å¾…è¿æ¥æˆåŠŸï¼Œæ˜¾ç¤ºé¢„è§ˆç”»é¢
6. ç‚¹å‡»"å¼€å§‹æ£€æµ‹"è¿›è¡Œ AI æ£€æµ‹

#### 2. æ£€æµ‹å‚æ•°è°ƒèŠ‚

- **ç½®ä¿¡åº¦é˜ˆå€¼**ï¼šå®æ—¶è°ƒèŠ‚æ£€æµ‹çµæ•åº¦
- **NMS é˜ˆå€¼**ï¼šæ§åˆ¶ç›®æ ‡æ¡†é‡å æŠ‘åˆ¶
- **è·Ÿè¸ªå¼€å…³**ï¼šå¯ç”¨/ç¦ç”¨ç›®æ ‡è·Ÿè¸ª
- **è½¨è¿¹å¼€å…³**ï¼šæ˜¾ç¤º/éšè—è¿åŠ¨è½¨è¿¹

#### 3. ç›‘æ§ä¿¡æ¯

ç•Œé¢åº•éƒ¨æ˜¾ç¤ºå®æ—¶ç›‘æ§ä¿¡æ¯ï¼š
- **æ€»è€—æ—¶**ï¼šåŒ…å«é¢„å¤„ç†å’Œåå¤„ç†çš„å®Œæ•´æ—¶é—´
- **æ¨ç†è€—æ—¶**ï¼šæ¨¡å‹æ¨ç†æ—¶é—´
- **FPS**ï¼šæ¯ç§’å¤„ç†å¸§æ•°
- **CPU ä½¿ç”¨ç‡**ï¼šè¿›ç¨‹ CPU å ç”¨ç™¾åˆ†æ¯”

### æ€§èƒ½ä¼˜åŒ–å»ºè®®

1. **æ¨¡å‹é€‰æ‹©**ï¼š
   - è¿½æ±‚é€Ÿåº¦ï¼šé€‰æ‹© `high_speed` æˆ– `YoloV8n`
   - è¿½æ±‚ç²¾åº¦ï¼šé€‰æ‹© `YoloV8s`

2. **è¾“å…¥å°ºå¯¸**ï¼š
   - 320Ã—320ï¼šé€Ÿåº¦å¿«ï¼Œç²¾åº¦ç•¥ä½
   - 640Ã—640ï¼šé€Ÿåº¦æ…¢ï¼Œç²¾åº¦é«˜

3. **æ¨ç†è®¾å¤‡**ï¼š
   - CPUï¼šå…¼å®¹æ€§å¥½ï¼ŒåŠŸè€—ä½
   - GPUï¼ˆVulkanï¼‰ï¼šé€Ÿåº¦å¿«ï¼Œéœ€è¦è®¾å¤‡æ”¯æŒ

4. **å‚æ•°è°ƒä¼˜**ï¼š
   - ç½®ä¿¡åº¦é˜ˆå€¼ï¼šæ ¹æ®åœºæ™¯è°ƒæ•´ï¼Œé™ä½å¯æ£€æµ‹æ›´å¤šç›®æ ‡
   - NMS é˜ˆå€¼ï¼šé€šå¸¸ 0.4-0.7ï¼Œè¿‡å°å¯èƒ½æ¼æ£€ï¼Œè¿‡å¤§å¯èƒ½è¯¯æ£€

---

## ğŸ—ï¸ æŠ€æœ¯æ¶æ„

### æ•´ä½“æ¶æ„

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚            Android Application Layer             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚ WelcomeActivity â”‚  â”‚ MainLocalActivity    â”‚  â”‚
â”‚  â”‚  (æ¨¡å‹é€‰æ‹©)      â”‚  â”‚  (æœ¬åœ°æ£€æµ‹)          â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                              â”‚                   â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚
â”‚  â”‚        Common Module (JNI Bridge)           â”‚â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚â”‚
â”‚  â”‚  â”‚ JniBridge  â”‚  â”‚ InferenceMonitor     â”‚ â”‚â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â”‚ JNI
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚           Native Layer (C++)                     â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚         JNI Interface Layer              â”‚  â”‚
â”‚  â”‚  camera_jni.cpp / ffmpeg_jni.cpp         â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                     â”‚                            â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚       Vision Inference Engine             â”‚  â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚  â”‚
â”‚  â”‚  â”‚  vision_infer.cpp                  â”‚  â”‚  â”‚
â”‚  â”‚  â”‚  - Model Loading                   â”‚  â”‚  â”‚
â”‚  â”‚  â”‚  - Inference Pipeline              â”‚  â”‚  â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                     â”‚                            â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚        Algorithm Modules                  â”‚  â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚  â”‚
â”‚  â”‚  â”‚ Detect   â”‚ â”‚  Seg   â”‚ â”‚   Pose    â”‚  â”‚  â”‚
â”‚  â”‚  â”‚ YOLOv8   â”‚ â”‚ YOLOv8 â”‚ â”‚ SimplePoseâ”‚  â”‚  â”‚
â”‚  â”‚  â”‚ NanoDet  â”‚ â”‚        â”‚ â”‚  DbFace   â”‚  â”‚  â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                     â”‚                            â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚         Tracking Module                   â”‚  â”‚
â”‚  â”‚       BYTETracker (Multi-Object)          â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                     â”‚                            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                      â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚            Third-party Libraries                  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”‚
â”‚  â”‚  ncnn   â”‚ â”‚ OpenCV   â”‚ â”‚   FFmpeg     â”‚     â”‚
â”‚  â”‚ (æ¨ç†)   â”‚ â”‚(å›¾åƒå¤„ç†) â”‚ â”‚  (è§†é¢‘è§£ç )  â”‚     â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### MVP æ¶æ„æ¨¡å¼

æœ¬åœ°æ£€æµ‹æ¨¡å—é‡‡ç”¨ **MVPï¼ˆModel-View-Presenterï¼‰** æ¶æ„ï¼š

- **Model**ï¼šæ•°æ®æ¨¡å‹å’Œä¸šåŠ¡é€»è¾‘ï¼ˆJNI å±‚ï¼‰
- **View**ï¼šUI ç•Œé¢ï¼ˆMainLocalActivityï¼‰
- **Presenter**ï¼šä¸šåŠ¡é€»è¾‘æ§åˆ¶å™¨ï¼ˆMainPresenterï¼‰

```
View (MainLocalActivity)
    â†“ ç”¨æˆ·äº¤äº’
Presenter (MainPresenter)
    â†“ è°ƒç”¨
Model (JniBridge â†’ Native Code)
    â†“ è¿”å›ç»“æœ
Presenter
    â†“ æ›´æ–°
View
```

### JNI äº¤äº’æµç¨‹

```cpp
// Java å±‚è°ƒç”¨
JniBridge.loadModel(assetManager, modelId, deviceType, inputSize);

// JNI å±‚å¤„ç†
JNIEXPORT jint JNICALL
Java_NcnnTencent_common_jni_JniBridge_loadModel(...) {
    // C++ æ¨¡å‹åŠ è½½
    algo->load(mgr, modelid, inputsize, use_gpu);
}

// æ¨ç†è°ƒç”¨
JniBridge.detect(bitmap, threshold, nms);

// JNI å±‚æ¨ç†
JNIEXPORT jobjectArray JNICALL
Java_NcnnTencent_common_jni_JniBridge_detect(...) {
    // C++ æ¨ç†
    algo->detect(rgb, objects);
    // è¿”å›æ£€æµ‹ç»“æœ
}
```

---

## ğŸ“Š æ€§èƒ½ç›‘æ§

é¡¹ç›®é›†æˆäº†å®Œå–„çš„æ€§èƒ½ç›‘æ§ç³»ç»Ÿï¼Œå®æ—¶æ˜¾ç¤ºä»¥ä¸‹æŒ‡æ ‡ï¼š

### ç›‘æ§æŒ‡æ ‡

1. **æ€»è€—æ—¶ï¼ˆAll Timeï¼‰**
   - åŒ…å«å›¾åƒé¢„å¤„ç†ã€æ¨¡å‹æ¨ç†ã€åå¤„ç†çš„æ€»æ—¶é—´
   - å•ä½ï¼šæ¯«ç§’ï¼ˆmsï¼‰
   - ç¤ºä¾‹ï¼š`45ms`

2. **æ¨ç†è€—æ—¶ï¼ˆInfer Timeï¼‰**
   - ä»…æ¨¡å‹å‰å‘æ¨ç†æ—¶é—´
   - å•ä½ï¼šæ¯«ç§’ï¼ˆmsï¼‰
   - ç¤ºä¾‹ï¼š`25ms`

3. **FPSï¼ˆFrames Per Secondï¼‰**
   - æ¯ç§’å¤„ç†å¸§æ•°
   - å®æ—¶è®¡ç®—ï¼š`1000 / æ€»è€—æ—¶`
   - ç¤ºä¾‹ï¼š`22.2 FPS`

4. **CPU ä½¿ç”¨ç‡ï¼ˆCPU Usageï¼‰**
   - è¿›ç¨‹ CPU å ç”¨ç™¾åˆ†æ¯”
   - è®¡ç®—æ–¹æ³•ï¼š`è¿›ç¨‹CPUæ—¶é—´ / (å®é™…æ—¶é—´ Ã— CPUæ ¸å¿ƒæ•°) Ã— 100%`
   - ç¤ºä¾‹ï¼š`35.5%`

### ç›‘æ§å®ç°

#### Java å±‚ç›‘æ§

```java
// InferenceMonitor.java
public class InferenceMonitor {
    private void updateMetrics(DetectSummary summary) {
        // æ›´æ–°æ€»è€—æ—¶
        tvAllValue.setText(String.format("%.0fms", summary.allTimeMs));
        
        // æ›´æ–°æ¨ç†è€—æ—¶
        tvInferValue.setText(String.format("%.0fms", summary.inferTimeMs));
        
        // æ›´æ–° FPS
        tvFpsValue.setText(String.format("%.1f", summary.fps));
    }
    
    private void updateCpuUsage() {
        long cpuTime = Process.getElapsedCpuTime();
        long realTime = SystemClock.elapsedRealtime();
        // è®¡ç®— CPU ä½¿ç”¨ç‡
        float cpuUsage = calculateCpuUsage(cpuTime, realTime);
        tvCpuValue.setText(String.format("%.1f%%", cpuUsage));
    }
}
```

#### C++ å±‚ç»Ÿè®¡

```cpp
// vision_infer.cpp
double t1 = ncnn::get_current_time();  // å¼€å§‹æ—¶é—´

// é¢„å¤„ç†
cv::Mat rgb = bitmapToMat(env, bitmap);

// æ¨ç†
algo->detect(rgb, objects);

// åå¤„ç†
drawObjects(frame, objects);

double t2 = ncnn::get_current_time();  // ç»“æŸæ—¶é—´

// æ›´æ–°ç»Ÿè®¡ä¿¡æ¯
g_summary.allTimeMs = (t2 - t1);  // æ€»è€—æ—¶
g_summary.fps = 1000.0 / g_summary.allTimeMs;  // FPS
```

### æ—¥å¿—è¾“å‡º

#### æ£€æµ‹ç»“æœæ—¥å¿—

```
[CPU] YoloV8n, input_size: 320x320
Detect_Info: 3 targets
  [0] person (0.95) @ [120, 80, 180, 280]
  [1] car (0.87) @ [300, 150, 450, 250]
  [2] bicycle (0.72) @ [500, 200, 580, 320]
```

#### å‚æ•°é…ç½®æ—¥å¿—

- æ¨¡å‹åç§°
- è¾“å…¥å°ºå¯¸
- æ¨ç†è®¾å¤‡ï¼ˆCPU/GPUï¼‰
- ç½®ä¿¡åº¦é˜ˆå€¼
- NMS é˜ˆå€¼
- è·Ÿè¸ªçŠ¶æ€

---

## ğŸ–¼ï¸ é¡¹ç›®æˆªå›¾

é¡¹ç›®æˆªå›¾å­˜æ”¾åœ¨ `Screenshots/` ç›®å½•ä¸‹ï¼Œå±•ç¤ºäº†åº”ç”¨çš„ä¸»è¦ç•Œé¢å’ŒåŠŸèƒ½ï¼š

### 1. æ¬¢è¿ç•Œé¢ï¼ˆWelcome Screenï¼‰

![æ¬¢è¿ç•Œé¢](Screenshots/welcome_screen.jpg)

- æ¨¡å‹é€‰æ‹©ä¸‹æ‹‰æ¡†
- è¾“å…¥å°ºå¯¸é€‰æ‹©ï¼ˆ320Ã—320 / 640Ã—640ï¼‰
- CPU/GPU åˆ‡æ¢æŒ‰é’®
- æœ¬åœ°æ£€æµ‹å…¥å£
- äº‘ç«¯æ£€æµ‹å…¥å£

### 2. æœ¬åœ°æ£€æµ‹ç•Œé¢ï¼ˆLocal Detectionï¼‰

![æœ¬åœ°æ£€æµ‹ç•Œé¢ v1](Screenshots/local_detect_main_v1.jpg)
![æœ¬åœ°æ£€æµ‹ç•Œé¢ v2](Screenshots/local_detect_main_v2.jpg)

- å®æ—¶ç›¸æœºé¢„è§ˆ
- æ£€æµ‹ç»“æœç»˜åˆ¶ï¼ˆç›®æ ‡æ¡†ã€ç±»åˆ«ã€ç½®ä¿¡åº¦ï¼‰
- æ€§èƒ½ç›‘æ§ä¿¡æ¯æ˜¾ç¤º
- å‚æ•°è°ƒèŠ‚æ§ä»¶
- åŠŸèƒ½æŒ‰é’®ï¼ˆç›¸æœº/å›¾ç‰‡/è§†é¢‘ï¼‰

### 3. æœ¬åœ°æ£€æµ‹æµç¨‹åŠ¨ç”»

![æœ¬åœ°æ£€æµ‹æµç¨‹](Screenshots/local_detect_flow.gif)

å±•ç¤ºæœ¬åœ°æ£€æµ‹çš„å®Œæ•´æµç¨‹å’Œäº¤äº’æ•ˆæœã€‚

### 4. äº‘ç«¯æ£€æµ‹ç•Œé¢ï¼ˆCloud Detectionï¼‰

![äº‘ç«¯æ£€æµ‹ç•Œé¢](Screenshots/cloud_detect_main.jpg)

- ç½‘ç»œæµåœ°å€è¾“å…¥æ¡†
- è¿æ¥çŠ¶æ€æ˜¾ç¤º
- è§†é¢‘æµé¢„è§ˆåŒºåŸŸ
- æ£€æµ‹å‚æ•°æ§åˆ¶
- è¿æ¥/æ£€æµ‹æŒ‰é’®

### 5. äº‘ç«¯æµæ£€æµ‹åŠ¨ç”»

![äº‘ç«¯æµæ£€æµ‹](Screenshots/cloud_network_stream.gif)

å±•ç¤ºç½‘ç»œè§†é¢‘æµçš„å®æ—¶æ£€æµ‹æ•ˆæœã€‚

---

## ğŸ”§ å¸¸è§é—®é¢˜

### Q1: ç¼–è¯‘æ—¶æ‰¾ä¸åˆ° NDK è·¯å¾„ï¼Ÿ

**A:** æ£€æŸ¥ `local.properties` æ–‡ä»¶ä¸­çš„ `ndk.dir` é…ç½®ï¼Œç¡®ä¿æŒ‡å‘æ­£ç¡®çš„ NDK å®‰è£…è·¯å¾„ã€‚

```properties
ndk.dir=C\:\\Users\\YourName\\AppData\\Local\\Android\\Sdk\\ndk\\25.1.8937393
```

### Q2: æ¨¡å‹æ–‡ä»¶ç¼ºå¤±ï¼Ÿ

**A:** ç¡®ä¿æ‰€æœ‰ `.param` å’Œ `.bin` æ–‡ä»¶éƒ½åœ¨ `app/src/main/assets/` ç›®å½•ä¸‹ã€‚å¦‚æœç¼ºå¤±ï¼Œéœ€è¦ä»æ¨¡å‹æä¾›æ–¹è·å–ã€‚

### Q3: GPU æ¨ç†ä¸å·¥ä½œï¼Ÿ

**A:** 
- æ£€æŸ¥è®¾å¤‡æ˜¯å¦æ”¯æŒ Vulkan API
- ç¡®è®¤ ncnn ç¼–è¯‘æ—¶å¯ç”¨äº† Vulkan æ”¯æŒ
- æŸ¥çœ‹æ—¥å¿—æ˜¯å¦æœ‰ Vulkan åˆå§‹åŒ–é”™è¯¯

### Q4: ç½‘ç»œæµè¿æ¥å¤±è´¥ï¼Ÿ

**A:**
- æ£€æŸ¥ç½‘ç»œæµåœ°å€æ ¼å¼æ˜¯å¦æ­£ç¡®
- ç¡®è®¤è®¾å¤‡ç½‘ç»œè¿æ¥æ­£å¸¸
- æ£€æŸ¥é˜²ç«å¢™è®¾ç½®
- æŸ¥çœ‹æ—¥å¿—ä¸­çš„è¯¦ç»†é”™è¯¯ä¿¡æ¯

### Q5: æ£€æµ‹é€Ÿåº¦æ…¢ï¼Ÿ

**A:**
- å°è¯•ä½¿ç”¨æ›´å°çš„æ¨¡å‹ï¼ˆå¦‚ `high_speed` æˆ– `YoloV8n`ï¼‰
- é™ä½è¾“å…¥å°ºå¯¸ï¼ˆ320Ã—320ï¼‰
- å¯ç”¨ GPU æ¨ç†ï¼ˆå¦‚æœè®¾å¤‡æ”¯æŒï¼‰
- å…³é—­è·Ÿè¸ªåŠŸèƒ½ï¼ˆå¦‚æœä¸éœ€è¦ï¼‰

---

## ğŸ“ å¼€å‘è¯´æ˜

### æ·»åŠ æ–°æ¨¡å‹

1. å°†æ¨¡å‹æ–‡ä»¶ï¼ˆ`.param` å’Œ `.bin`ï¼‰æ”¾å…¥ `app/src/main/assets/`
2. å®ç°æ¨¡å‹ç±»ï¼Œç»§æ‰¿ `IYoloAlgo` æ¥å£
3. åœ¨ `vision_infer.cpp` ä¸­æ³¨å†Œæ–°æ¨¡å‹
4. åœ¨ `strings.xml` ä¸­æ·»åŠ æ¨¡å‹åç§°

### ä¿®æ”¹æ£€æµ‹å‚æ•°

æ£€æµ‹å‚æ•°åœ¨ `vision_base.h` ä¸­å®šä¹‰ï¼š

```cpp
extern float g_threshold;  // ç½®ä¿¡åº¦é˜ˆå€¼
extern float g_nms;        // NMS é˜ˆå€¼
extern bool g_track_enabled;  // è·Ÿè¸ªå¼€å…³
```

### è‡ªå®šä¹‰ç»˜åˆ¶

ç»˜åˆ¶é€»è¾‘åœ¨ `vision_infer.cpp` çš„ `drawObjects()` å‡½æ•°ä¸­ï¼Œå¯ä»¥ä¿®æ”¹ï¼š
- ç›®æ ‡æ¡†é¢œè‰²å’Œæ ·å¼
- æ–‡å­—æ˜¾ç¤ºæ ¼å¼
- è½¨è¿¹ç»˜åˆ¶æ ·å¼

---
